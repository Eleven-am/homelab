groups:
  group:olympus:
    - maixperiyon

  group:devs:
    - maixperiyon

  group:clara:
    - poncetcla

  group:horus:
    - maixperiyon
    - poncetcla
    - "a.s.h.e.s.343"

  group:thebes:
    - thebes

hosts:
  cilium-gateway: "172.198.1.1/32"
  postgresql: "172.198.1.4/32"
  redis: "172.198.1.5/32"

acls:
  - action: accept
    src:
      - group:olympus
    dst:
      - "*:*"

  - action: accept
    src:
      - group:devs
    dst:
      - postgresql:5432
      - redis:6379

  - action: accept
    src:
      - group:horus
    dst:
      - cilium-gateway:443
      - group:thebes:*

  # Clara's devices
  - action: accept
    src:
      - group:clara
    dst:
      - group:clara:*

  # Block access to everything else
  - action: deny
    src:
      - group:horus
    dst:
      - "*:*"
